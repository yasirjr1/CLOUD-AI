import moment from 'moment-timezone';
import fs from 'fs';
import os from 'os';
import pkg, { prepareWAMessageMedia } from '@whiskeysockets/baileys';
const { generateWAMessageFromContent, proto } = pkg;
import config from '../../config.cjs';

const alive = async (m, sock) => {
  // Use the mode from your config, if needed for the menu display.
  const mode = config.MODE;
  const pushName = m.pushName || 'User';

  // Check if the message is exactly "menu" (case-insensitive)
  if (m.body.trim().toLowerCase() === "menu") {
    await m.React('â³'); // React with a loading icon

    // Calculate uptime
    const uptimeSeconds = process.uptime();
    const days = Math.floor(uptimeSeconds / (24 * 3600));
    const hours = Math.floor((uptimeSeconds % (24 * 3600)) / 3600);
    const minutes = Math.floor((uptimeSeconds % 3600) / 60);
    const seconds = Math.floor(uptimeSeconds % 60);

    // Get real time
    const realTime = moment().tz("Asia/Karachi").format("HH:mm:ss");
    const time2 = moment().tz("Asia/Karachi").format("HH:mm:ss");

    let pushwish = "";
    if (time2 < "05:00:00") {
      pushwish = `Good Morning ğŸŒ„`;
    } else if (time2 < "11:00:00") {
      pushwish = `Good Morning ğŸŒ„`;
    } else if (time2 < "15:00:00") {
      pushwish = `Good Afternoon ğŸŒ…`;
    } else if (time2 < "18:00:00") {
      pushwish = `Good Evening ğŸŒƒ`;
    } else if (time2 < "19:00:00") {
      pushwish = `Good Evening ğŸŒƒ`;
    } else {
      pushwish = `Good Night ğŸŒŒ`;
    }

    // Construct the menu message (you can adjust the menu content as needed)
    const aliveMessage = `â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â‡† HELLO â‡†* *${pushName}*
             _${pushwish}_
*â‡† âœ¨ Ê™á´‡Ê€á´€ á´›á´‡á´„Êœ á´„á´á´á´á´€É´á´… ÊŸÉªsá´›  âœ¨ â‡†*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢* 
*â”‚  â—¦* ğ™±ğ™¾ğšƒ ğ™½ğ™°ğ™¼ğ™´: Ê™á´‡Ê€á´€ á´›á´‡á´„Êœ Ê™á´á´›
*â”‚  â—¦* ğš…ğ™´ğšğš‚ğ™¸ğ™¾ğ™½: 1.0
*â”‚  â—¦* ğ™³ğ™´ğš…: Ê™Ê€á´œá´„á´‡ Ê™á´‡Ê€á´€
*â”‚  â—¦* ğ™¼ğ™¾ğ™³ğ™´: *${mode}*
*â”‚  â—¦* ğš„ğ™¿ğšƒğ™¸ğ™¼ğ™´: *${days}d ${hours}h ${minutes}m ${seconds}s*
*â”‚  â—¦* ğ™²ğš„ğšğšğ™´ğ™½ğšƒ ğšƒğ™¸ğ™¼ğ™´: *${realTime}*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â™¡ï¸â€¢â”â”â”â”â”â”â˜»ï¸â”â”â”â”â”â”â€¢â™¡ï¸*
*[ â€¢ *ğŸ‘»ğ—•ğ—˜ğ—¥ğ—” ğ—§ğ—˜ğ—–ğ—› ğ—•ğ—¢ğ—§ğŸ‘»* â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*ğŸ«¡ğ—¥ğ—˜ğ—šğ—”ğ—¥ğ——ğ—¦ ğ—•ğ—¥ğ—¨ğ—–ğ—˜ ğ—•ğ—˜ğ—¥ğ—”ğŸ«¡*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*|ENSURE YOU TURN OFF SHENG AI ğŸ¤ğŸ¥²|*
*[ â€¢  ğ™¾ğš†ğ™½ğ™´ğš ğ™²ğ™¼ğ™³  â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*sheng on /off
*â”‹*UNBLOCK
*â”‹*JOIN
*â”‹*LEAVE
*â”‹*block
*â”‹*RESTART
*â”‹*PP
*â”‹*Restart
*â”‹*OwnerReact
*â”‹*HeartReact
*â”‹*Join
*â”‹*Left 
*â”‹*Broadcast 
*â”‹*View  [for view once]
*â”‹*Del
*â”‹*Save
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â•­â”€â”€â”€âã€Œ *ğŸ‘»á´„ÊœÊ€Éªsá´›Éªá´€É´ á´á´‡É´á´œğŸ‘»* ã€ 
*â”‚ *Ê™ÉªÊ™ÊŸá´‡ 
*â”‚  *Ê™ÉªÊ™ÊŸá´‡ÊŸÊŸÉªsá´› 
*â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â* 
*â•­â”€â”€â”€âã€Œ ğŸ‘»ÉªsÊŸá´€á´Éªá´„ á´á´‡É´á´œğŸ‘» ã€ 
*â”‚*ğš‚ğšğš›ğšŠğš‘ğšŠğšğšğš’ğš˜ 
*â”‚*ğš‚ğšğš›ğšŠğš‘ğšğš›ğšğš 
*â”‚*ğ™°ğšœğš–ğšŠğšğš•ğš‘ğšğšœğš—ğšŠ
*â”‚*ğ™¿ğš›ğš˜ğš™ğš‘ğšğšğš—ğšŠğš–ğš 
*â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â*
*â•­â”€â”€â”€âã€Œ ğŸ‘»ÊŸá´É¢á´ á´á´‡É´á´œğŸ‘» *
*â”‹*ğ—…ğ—ˆğ—€ğ—ˆ 
*â”‹*hacker 
*â”‹*ğ–»ğ—…ğ–ºğ–¼ğ—„ğ—‰ğ—‚ğ—‡ğ—„ 
*â”‹*ğ—€ğ—ˆğ—Œğ—Œğ—’ğ—Œğ—‚ğ—…ğ—ğ–¾ğ—‹ 
*â”‹*ğ—‡ğ–ºğ—‹ğ—ğ—‹ğ—ˆ 
*â”‹*ğ–½ğ—‚ğ—€ğ—‚ğ—ğ–ºğ—…ğ—€ğ—…ğ—‚ğ—ğ–¼ğ— 
*â”‹*ğ—‰ğ—‚ğ—‘ğ–¾ğ—…ğ—€ğ—…ğ—‚ğ—ğ–¼ğ— 
*â”‹*ğ—Œğ—ğ–ºğ—‹ 
*â”‹*ğ—Œğ—†ğ—ˆğ—„ğ–¾ 
*â”‹*ğ–»ğ–¾ğ–ºğ—‹ 
*â”‹*ğ—‡ğ–¾ğ—ˆğ—‡ğ–½ğ–¾ğ—ğ—‚ğ—… 
*â”‹*ğ—Œğ–¼ğ—‹ğ–¾ğ–¾ğ—‡ 
*â”‹*ğ—‡ğ–ºğ—ğ—ğ—‹ğ–¾ 
*â”‹*ğ–½ğ—‹ğ–ºğ—€ğ—ˆğ—‡ğ–»ğ–ºğ—…ğ—… 
*â”‹*ğ–¿ğ—ˆğ—€ğ—€ğ—’ğ—€ğ—…ğ–ºğ—Œğ—Œ 
*â”‹*ğ—‡ğ–¾ğ—ˆğ—‡ğ—…ğ—‚ğ—€ğ—ğ— 
*â”‹*ğ–¼ğ–ºğ—Œğ—ğ—…ğ–¾ğ—‰ğ—ˆğ—‰ 
*â”‹*ğ–¿ğ—‹ğ—ˆğ—“ğ–¾ğ—‡ğ–¼ğ—ğ—‹ğ—‚ğ—Œğ—ğ—†ğ–ºğ—Œ 
*â”‹*ğ–¿ğ—ˆğ—‚ğ—…ğ–»ğ–ºğ—…ğ—…ğ—ˆğ—ˆğ—‡ 
*â”‹*ğ–¼ğ—ˆğ—…ğ—ˆğ—‹ğ–¿ğ—ğ—…ğ—‰ğ–ºğ—‚ğ—‡ğ— 
*â”‹*ğ–ºğ—†ğ–¾ğ—‹ğ—‚ğ–¼ğ–ºğ—‡ğ–¿ğ—…ğ–ºğ—€ 
*â”‹*water 
*â”‹*ğ—‡ğ–¾ğ—ˆğ—‡ğ–½ğ–¾ğ—ğ—‚ğ—… 
*â”‹*underwater 
*â”‹*dragonfire 
*â”‹*bokeh 
*â”‹*snow 
*â”‹*sand3d 
*â”‹*pubg 
*â”‹*horror 
*â”‹*blood 
*â”‹*bulb 
*â”‹*graffiti 
*â”‹*thunder 
*â”‹*thunder1 
*â”‹*womensday 
*â”‹*Valentine 
*â”‹*graffiti2 
*â”‹*queencard 
*â”‹*galaxy 
*â”‹*pentakill 
*â”‹*birthdayflower 
*â”‹*zodiac 
*â”‹*water3D 
*â”‹*textlight 
*â”‹*wall 
*â”‹*gold 
*â”‹*glow 
*â”‹*team 
*â”‹*rotation 
*â”‹*paint 
*â”‹*avatar 
*â”‹*typography 
*â”‹*tattoo 
*â”‹*luxury 
*â”‹logo 
â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
â”‹ğŸ«¡ğ—¥ğ—˜ğ—šğ—”ğ—¥ğ——ğ—¦ ğ—•ğ—¥ğ—¨ğ—–ğ—˜ ğ—•ğ—˜ğ—¥ğ—”ğŸ«¡ 
â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢* 
*â•­â”   *ğ™²ğ™¾ğ™½ğš…ğ™´ğšğšƒğ™´ğš*    â¯â”â•®*
*â”ƒ*ğ™°ğšƒğšƒğ™¿
*â”ƒ*á´œÊ€ÊŸ
*â”ƒ*ğ™°ğšƒğšƒğ™¿3
*â”ƒ*ğ™´ğ™±ğ™¸ğ™½ğ™°ğšğšˆ
*â”ƒ*ğ™³ğ™±ğ™¸ğ™½ğ™°ğšğšˆ
*â”ƒ*ğ™´ğ™¼ğ™¾ğ™¹ğ™¸ğ™¼ğ™¸ğš‡
*â”ƒ*ğ™¼ğ™¿3
*â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âª¼*
*[ â€¢ DOWNLOADER-CMD  â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*play
*â”‹*ÉªÉ´êœ±á´›á´€
*â”‹*á´ Éªá´…á´‡á´
*â”‹*É¢á´…Ê€Éªá´ á´‡
*â”‹*á´›á´¡Éªá´›á´›á´‡Ê€
*â”‹*ğšğš’ğš”ğšğš˜ğš”
*â”‹*á´á´‡á´…Éªá´€Ò“ÉªÊ€á´‡
*â”‹*êœ±á´É´É¢
*â”‹*á´ Éªá´…á´‡á´
*â”‹*á´€á´˜á´‹
*â”‹*ğšƒğšƒğ™°ğš„ğ™³ğ™¸ğ™¾*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
  [ â€¢  GROUP-CMD  â€â€¢ ] 
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢* 
*â”‹*á´…á´‡ÊŸ <Ê€á´‡á´˜ÊŸÊ Ò“á´Ê€ á´…á´‡ÊŸá´‡á´›á´‡ sá´s> 
*â”‹*á´€á´…á´… 
*â”‹*á´‹Éªá´„á´‹ 
*â”‹*á´¡á´‡ÊŸá´„á´á´á´‡ ğš˜ğš— 
*â”‹*á´¡á´‡ÊŸá´„á´á´á´‡ ğš˜ğšğš 
*â”‹*á´˜Ê€á´á´á´á´›á´‡ 
*â”‹*á´…á´‡á´á´á´›á´‡ 
*â”‹*á´›á´€É¢á´€ÊŸÊŸ 
*â”‹*ğš‘ğš’ğšğšğšğšŠğš 
*â”‹*ÉªÉ´á´ Éªá´›á´‡ 
*â”‹*á´á´œá´›á´‡ 
*â”‹*á´œÉ´á´á´œá´›á´‡ 
*â”‹*É¢Ê€á´á´œá´˜á´á´˜á´‡É´ 
*â”‹*É¢Ê€á´á´œá´˜á´„ÊŸá´sá´‡ 
*â”‹*É¢Ê€á´á´œá´˜ÉªÉ´Ò“á´ 
*â”‹*á´…á´‡ÊŸ 
*â”‹*á´á´œá´›á´‡ 
*â”‹*á´œÉ´á´á´œá´›á´‡ 
*â”‹*á´˜á´ÊŸÊŸ 
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
 â•­â”€â”€â”€âã€Œ á´á´›Êœá´‡Ê€ á´á´‡É´á´œ ] 
*â”‚*ğ™¿ğš’ğš—ğš 
*â”‚*ğ™°ğš‹ğš˜ğšğš 
*â”‚*ğš›ğšğš™ğš˜ 
*â”‚*ğ™°ğš•ğš’ğšŸğš 
*â”‚*ğš„ğš›ğš• 
*â”‚*ğš‚ğšğš—ğšğš–ğš 
*â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â* 
[ â€¢ ğ™·ğ™´ğšğ™¾ğ™ºğš„ ğ™²ğ™»ğ™¸ğ™´ğ™½ğšƒ â€â€¢ ] 
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢* 
*â”‹*ğ™¼ğ™¾ğ™³ğ™´ <ğ™¿ğš„ğ™±ğ™»ğ™¸ğ™²/ğ™¿ğšğ™¸ğš…ğ™°ğšƒğ™´> 
*â”‹*ğ™¿ğšğ™´ğ™µğ™¸ğš‡ <ğš‚ğšˆğ™¼ğ™±ğ™¾ğ™»> 
*â”‹*ğ™°ğš„ğšƒğ™¾ğš‚ğš…ğ™¸ğ™´ğš† <ğ™¾ğ™½/ğ™¾ğ™µğ™µ> 
*â”‹*ğ™°ğš„ğšƒğ™¾ğšğ™´ğ™°ğ™²ğšƒ <ğ™¾ğ™½/ğ™¾ğ™µğ™µ> 
*â”‹*ğ™°ğ™»ğš†ğ™°ğšˆğš‚ğ™¾ğ™½ğ™»ğ™¸ğ™½ğ™´ <ğ™¾ğ™½/ğ™¾ğ™µğ™µ> 
*â”‹*ğ™°ğš„ğšƒğ™¾ğšğ™´ğ™°ğ™³ <ğ™¾ğ™½/ğ™¾ğ™µğ™µ> 
*â”‹*ğ™°ğš„ğšƒğ™¾ğšğ™´ğ™±ğ™»ğ™¾ğ™²ğ™º <ğ™¾ğ™½/ğ™¾ğ™µğ™µ> 
*â”‹*ğ™°ğš—ğšƒğ™¸ğ™²ğ™°ğ™»ğ™» <ğ™¾ğ™½/ğ™¾ğ™µğ™µ> 
*â”‹*ğ™°ğš„ğšƒğ™¾ğšğ™´ğ™²ğ™¾ğšğ™³ğ™¸ğ™½ğ™¶ <ğ™¾ğ™½/ğ™¾ğ™µğ™µ> 
*â”‹*ğ™°ğš„ğšƒğ™¾ğšƒğšˆğ™¿ğ™¸ğ™½ğ™¶ <ğ™¾ğ™½/ğ™¾ğ™µğ™µ> 
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*[ â€¢  SEARCH CMD  â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*YTS
*â”‹*GOOGLE
*â”‹*IMD
*â”‹*IMG
*â”‹*WEATHER
*â”‹*PLAYSTORE
*â”‹*NEWS
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*[ â€¢  AI CMD   â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*BLACKBOXAI
*â”‹*GPT
*â”‹*VISIT
*â”‹*DEFINE
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
...
ğŸŒ ğ— ğ—¢ğ—¥ğ—˜ ğ—–ğ—¢ğ— ğ— ğ—”ğ—¡ğ——ğ—¦ ğ—–ğ—¢ğ— ğ—œğ—¡ğ—š ğ—¦ğ—¢ğ—¢ğ—¡! ğŸŒ`;

    await m.React('âœ…'); // React with a success icon

    // Send the constructed menu message back to the chat
    sock.sendMessage(
      m.from,
      {
        text: aliveMessage,
        contextInfo: {
          isForwarded: false,
          forwardedNewsletterMessageInfo: {
            newsletterJid: '120363315115438245@newsletter',
            newsletterName: "ğ—•ğ—˜ğ—¥ğ—” ğ—§ğ—˜ğ—–ğ—› ğ—•ğ—¢ğ—§",
            serverMessageId: -1,
          },
          forwardingScore: 999,
          externalAdReply: {
            title: "âœ¨ ğ—•ğ—˜ğ—¥ğ—” ğ—§ğ—˜ğ—–ğ—› ğ—•ğ—¢ğ—§ âœ¨",
            body: "BERA TECH BOT MENU",
            thumbnailUrl: 'https://files.catbox.moe/ld9uw5.jpg',
            sourceUrl: 'https://files.catbox.moe/tdhhl5.mp3',
            mediaType: 1,
            renderLargerThumbnail: true,
          },
        },
      },
      { quoted: m }
    );
  }
};

export default alive;
